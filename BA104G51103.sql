DROP TABLE RESREC;
DROP TABLE HSECOLL;
DROP TABLE BREAKTIME;
DROP TABLE MRMSG;
DROP TABLE MSMSG;
DROP TABLE ARTICLE;
DROP TABLE News;
DROP TABLE News_Type;
DROP TABLE ANN;
DROP TABLE QA;
DROP TABLE QA_Type;
DROP TABLE PROMO;
DROP TABLE Coupon;
drop table Advertisement;
drop table Follow_RTR;
DROP TABLE REPORTPRODUCT;
DROP TABLE REPORTREALTOR;
DROP TABLE ORDER_DETAIL;
DROP TABLE PRODUCT_ORDER;
DROP TABLE PRDIMG;
DROP TABLE PRD_COLLECTION;
DROP TABLE PRODUCT;
DROP TABLE PRD_CATEGORY;
DROP TABLE EMPLOYEE_AUTH;
DROP TABLE EMPLOYEE;
DROP TABLE BK_FUNCTION;
DROP TABLE SELLER;
DROP TABLE REALTOR;
drop table houseimages;
drop table houseinfo;
DROP TABLE REALESTATE;
DROP TABLE MEMBER;

DROP SEQUENCE EMP_SEQ;
DROP SEQUENCE BKF_NO_SEQ;
DROP SEQUENCE RESR_SEQ;
DROP SEQUENCE seq_news;
DROP SEQUENCE seq_ann;
DROP SEQUENCE seq_qa;
DROP SEQUENCE seq_pro;
DROP SEQUENCE seq_cou;
drop sequence house_sequence;
drop sequence houseimages_sequence;
drop sequence advertisement_sequance;
DROP SEQUENCE PRDIMG_SEQ;
DROP SEQUENCE MEM_SEQ;
DROP SEQUENCE RE_SEQ;
DROP SEQUENCE RTR_SEQ;
DROP SEQUENCE SLR_SEQ;
DROP SEQUENCE PRDT_CATE_SEQ;
DROP SEQUENCE PD_SEQ;
DROP SEQUENCE RP_SEQ;
DROP SEQUENCE RR_SEQ;
DROP SEQUENCE PDO_NO_SEQ;

----------- 會員 ---------------------
CREATE TABLE MEMBER (
MEM_NO         VARCHAR2(10) NOT NULL,
MEM_ID         VARCHAR2(40) NOT NULL,
MEM_PSW        VARCHAR2(40) NOT NULL,
MEM_NAME       VARCHAR2(12),
MEM_ADDR       VARCHAR2(100),
SEARCH_STATE   VARCHAR2(10),
LOCK_STATE     VARCHAR2(10),
CONSTRAINT MEMBER_PK PRIMARY KEY(MEM_NO) );

CREATE SEQUENCE MEM_SEQ 
INCREMENT BY 1 
START WITH 1 
NOCACHE;

INSERT INTO MEMBER VALUES ('MB'||(LPAD(to_char(MEM_SEQ.NEXTVAL),8,'0')),'stevejobs@gmail.com','123456','賈伯斯','新北市萬里區一條路9號','ON','ON');
INSERT INTO MEMBER VALUES ('MB'||(LPAD(to_char(MEM_SEQ.NEXTVAL),8,'0')),'michaeljordan@gmail.com','123456','喬丹','台北市內湖區灌籃路168號','ON','ON');
INSERT INTO MEMBER VALUES ('MB'||(LPAD(to_char(MEM_SEQ.NEXTVAL),8,'0')),'peterwu@gmail.com','123456','彼得吳','台北市大安區中大路8號','ON','ON');
INSERT INTO MEMBER VALUES ('MB'||(LPAD(to_char(MEM_SEQ.NEXTVAL),8,'0')),'billgates@gmail.com','123456','比爾蓋茲','桃園市中壢區中大路300號','ON','ON');


------------ 房仲公司 --------------
CREATE TABLE RealEstate (
RE_NO         VARCHAR2(10) NOT NULL,
RE_NAME       VARCHAR2(40) NOT NULL,
CONSTRAINT RE_PK PRIMARY KEY(RE_NO) );

CREATE SEQUENCE RE_SEQ 
INCREMENT BY 1 
START WITH 1 
NOCACHE;

INSERT INTO REALESTATE VALUES ('RE'||(LPAD(to_char(RE_SEQ.NEXTVAL),8,'0')),'信義房屋');
INSERT INTO REALESTATE VALUES ('RE'||(LPAD(to_char(RE_SEQ.NEXTVAL),8,'0')),'永慶房屋');
INSERT INTO REALESTATE VALUES ('RE'||(LPAD(to_char(RE_SEQ.NEXTVAL),8,'0')),'東森房屋');


-------------- 房仲 --------------
CREATE TABLE REALTOR (
RTR_NO          VARCHAR2(10) NOT NULL,
RTR_ID          VARCHAR2(40) NOT NULL,
RTR_PSW         VARCHAR2(40) NOT NULL,
RTR_NAME        VARCHAR2(40),
RTR_PHOTO       BLOB,
RTR_AREA        VARCHAR2(40),
RTR_INTRO       CLOB,
RTR_IDNO        VARCHAR2(10),
RE_NO           VARCHAR2(10),
RTR_STATE       VARCHAR2(10),
CONSTRAINT RTR_ESTATE_FK FOREIGN KEY(RE_NO) REFERENCES REALESTATE(RE_NO),
CONSTRAINT RTR_PK PRIMARY KEY(RTR_NO) );

CREATE SEQUENCE RTR_SEQ
INCREMENT BY 1
START WITH 1
NOCACHE;

INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR01@GMAIL.COM', '123456', '葦小寶', '北投區', 'A108064497', 'RE00000001', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR02@GMAIL.COM', '123456', '王建民', '中正區', 'B123456789', 'RE00000002', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR03@GMAIL.COM', '123456', '林志玲', '士林區', 'X298765432', 'RE00000002', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR04@GMAIL.COM', '123456', '張三豐', '內湖區', 'D165432178', 'RE00000001', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR05@GMAIL.COM', '123456', '林大偉', '大安區', 'C132165491', 'RE00000002', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR06@GMAIL.COM', '123456', '李進財', '信義區', 'A198765432', 'RE00000001', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR07@GMAIL.COM', '123456', '趙德助', '萬華區', 'H147258369', 'RE00000002', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR08@GMAIL.COM', '123456', '張鈞甯', '中山區', 'X265432155', 'RE00000001', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR09@GMAIL.COM', '123456', '王小明', '大同區', 'A123466593', 'RE00000002', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR10@GMAIL.COM', '123456', '陳金鋒', '大安區', 'F136925874', 'RE00000003', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR11@GMAIL.COM', '123456', '連天邊', '信義區', 'H118754326', 'RE00000001', 'ON');
INSERT INTO REALTOR(RTR_NO, RTR_ID, RTR_PSW, RTR_NAME, RTR_AREA, RTR_IDNO, RE_NO, RTR_STATE)
VALUES('RT'||(LPAD(to_char(RTR_SEQ.NEXTVAL),8,'0')), 'BA104_RLTR12@GMAIL.COM', '123456', '楊美麗', '中正區', 'B213456789', 'RE00000001', 'ON');


-------------- 廠商 --------------
CREATE TABLE SELLER (
SLR_NO           VARCHAR2(10) NOT NULL,
SLR_Name         VARCHAR2(40),
SLR_TAXID        VARCHAR2(10),
SLR_ID           VARCHAR2(40) NOT NULL,
SLR_PSW          VARCHAR2(40) NOT NULL,
SLR_CONTACT      VARCHAR2(40),
SLR_PHONE        VARCHAR2(10),
SLR_STATE        VARCHAR2(10),
SLR_INTRO        CLOB,
CONSTRAINT SLR_PK PRIMARY KEY(SLR_NO) );

CREATE SEQUENCE SLR_SEQ
INCREMENT BY 1
START WITH 1
NOCACHE;

INSERT INTO SELLER(SLR_NO, SLR_Name, SLR_TAXID, SLR_ID, SLR_PSW, SLR_CONTACT, SLR_PHONE, SLR_STATE)
VALUES('SL'||(LPAD(to_char(SLR_SEQ.NEXTVAL),8,'0')), '宜家家居', '84309586', 'SALES@IKEA.COM', '123456', '李協達', '84128869', 'ON');
INSERT INTO SELLER(SLR_NO, SLR_Name, SLR_TAXID, SLR_ID, SLR_PSW, SLR_CONTACT, SLR_PHONE, SLR_STATE)
VALUES('SL'||(LPAD(to_char(SLR_SEQ.NEXTVAL),8,'0')), '歐德傢俱', '70394175', 'SALES@ORDER.COM', '123456', '陳國都', '0800033988', 'ON');
INSERT INTO SELLER(SLR_NO, SLR_Name, SLR_TAXID, SLR_ID, SLR_PSW, SLR_CONTACT, SLR_PHONE, SLR_STATE)
VALUES('SL'||(LPAD(to_char(SLR_SEQ.NEXTVAL),8,'0')), '特力屋', '89390488', 'SALES@HOLA.COM.TW', '123456', '何湯雄', '87915566', 'ON');
INSERT INTO SELLER(SLR_NO, SLR_Name, SLR_TAXID, SLR_ID, SLR_PSW, SLR_CONTACT, SLR_PHONE, SLR_STATE)
VALUES('SL'||(LPAD(to_char(SLR_SEQ.NEXTVAL),8,'0')), '詩肯柚木', '89403884', 'SALES@SCANTEAK .COM.TW', '123456', '林福勤', '03-3180555', 'ON');


-------------- 商品類別 --------------
CREATE TABLE PRD_CATEGORY (
CATE_NO      VARCHAR2(10) NOT NULL,
CATE_NAME    VARCHAR2(100) NOT NULL,
CONSTRAINT PRDT_CATE_PK PRIMARY KEY(CATE_NO) );

CREATE SEQUENCE PRDT_CATE_SEQ 
INCREMENT BY 1 
START WITH 1 
NOCACHE;

INSERT INTO PRD_CATEGORY VALUES ('PC'||(LPAD(to_char(PRDT_CATE_SEQ.NEXTVAL),8,'0')),'桌子');
INSERT INTO PRD_CATEGORY VALUES ('PC'||(LPAD(to_char(PRDT_CATE_SEQ.NEXTVAL),8,'0')),'椅子');
INSERT INTO PRD_CATEGORY VALUES ('PC'||(LPAD(to_char(PRDT_CATE_SEQ.NEXTVAL),8,'0')),'櫃子');


-------------- 商品 --------------
CREATE TABLE PRODUCT (
PRD_NO          VARCHAR2(10) NOT NULL,
SLR_NO          VARCHAR2(10) NOT NULL,
CATE_NO         VARCHAR2(10) NOT NULL,
PRD_NAME        VARCHAR2(100) NOT NULL,
PRD_DESC        CLOB,
PRD_STOCK       NUMBER(6),
PRD_PRICE       NUMBER(10) NOT NULL,
PRD_STATE       VARCHAR2(10),
CONSTRAINT PRD_PK PRIMARY KEY(PRD_NO),
CONSTRAINT PRD_SL_FK FOREIGN KEY(SLR_NO) REFERENCES SELLER(SLR_NO),
CONSTRAINT PRD_CG_FK FOREIGN KEY(CATE_NO) REFERENCES PRD_CATEGORY(CATE_NO) );

CREATE SEQUENCE PD_SEQ
INCREMENT BY 1 
START WITH 1 
NOCACHE;

INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000001','KLIMPEN桌子, 灰色 淺灰色',62,8780,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000001','LINNMON/ALEX 桌子, 幾何圖案 藍色, 白色',73,3890,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000001','MALM 書桌/工作桌, 白色',87,3990,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000001','MALM L型書桌/工作桌, 棕色 實木貼皮, 梣木',46,3990,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000001','PAHL 書桌/工作桌附延伸層架, 白色, 粉紅色',59,3390,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000001','PAHL 書桌/工作桌附層架, 白色, 綠色',61,3390,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000002','EKEBOL 三人座沙發, Katorp 自然色',12,15900,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000002','EKTORP 三人座沙發, Nordvalla 深米',7,13900,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000002','LANGFJALL 旋轉椅, Gunnared 米色, 白色',28,4999,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000002','LANGFJALL 旋轉椅, Gunnared 棕紅色, 白色',16,4999,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000002','MARKUS 旋轉椅, Glose 黑色 Robust 黑色',15,4990,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000002','SPORREN 旋轉椅, 白色, Vissle 淺藍色',23,1799,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000002','STRANDMON 扶手椅, Gillhov 彩色',38,7990,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000003','HURDAL 寢具櫃, 綠色',4,11900,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000003','KALLAX 層架組, 灰色, 木紋',19,2695,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000003','KALLAX-黑棕色 層架組附門片',26,2895,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000003','LIXHULT 收納組合, 紅色, 藍色',23,11900,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000003','PAX 衣櫃/衣櫥, 染白橡木紋, Farvik 白色玻璃',3,30600,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000003','STUVA 衣櫃/衣櫥, 白色, 藍色',10,5690,'On');
INSERT INTO PRODUCT(PRD_NO,SLR_NO,CATE_NO,PRD_NAME,PRD_STOCK,PRD_PRICE,PRD_STATE) VALUES('PD'||(LPAD(to_char(PD_SEQ.NEXTVAL),8,'0')),'SL00000001','PC00000003','STUVA 衣櫃/衣櫥, 白色, 粉紅色',14,5690,'On');





-------- 收藏商品 (外來鍵 MEM_NO、PRD_NO 作為雙主鍵)-----------
CREATE TABLE PRD_COLLECTION (
MEM_NO        VARCHAR2(10) NOT NULL,
PRD_NO        VARCHAR2(10) NOT NULL,
PCTIME        TIMESTAMP,
CONSTRAINT MEM_PRD_PK PRIMARY KEY (MEM_NO,PRD_NO),
CONSTRAINT PC_MEM_FK FOREIGN KEY(MEM_NO) REFERENCES MEMBER(MEM_NO),
CONSTRAINT PC_PRD_FK FOREIGN KEY(PRD_NO) REFERENCES PRODUCT(PRD_NO) );
------------------------------
--收藏商品尚未 INSERT 假資料
------------------------------

CREATE TABLE EMPLOYEE (
EMP_NO VARCHAR2(10) NOT NULL,
EMP_ID VARCHAR2(40) NOT NULL,
EMP_PSW VARCHAR2(40) NOT NULL,
EMP_NAME VARCHAR2(40) NOT NULL,
EMP_LSTLOG TIMESTAMP,
EMP_BADLOG TIMESTAMP,
EMP_BADLOGTRY NUMBER(10) DEFAULT 0,
EMP_PHOTO BLOB,
EMP_STATE VARCHAR2(10) DEFAULT 'Active' NOT NULL,
EMP_NEWDATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
CONSTRAINT EMP_NO_PK PRIMARY KEY(EMP_NO));



CREATE SEQUENCE EMP_SEQ
INCREMENT BY 1 
START WITH 1 
NOCACHE;

------insert先寫在這裡--------
INSERT INTO EMPLOYEE(EMP_NO, EMP_ID, EMP_PSW, EMP_NAME, EMP_STATE) VALUES('EM'||(LPAD(to_char
(EMP_SEQ.NEXTVAL),8,'0')), 'peter@forhouse.com', '123456' ,'吳神', 'Active');
INSERT INTO EMPLOYEE(EMP_NO, EMP_ID, EMP_PSW, EMP_NAME, EMP_STATE) VALUES('EM'||(LPAD(to_char
(EMP_SEQ.NEXTVAL),8,'0')), 'yyy@forhouse.com', '123456' ,'楊宇茵', 'Active');
INSERT INTO EMPLOYEE(EMP_NO, EMP_ID, EMP_PSW, EMP_NAME, EMP_STATE) VALUES('EM'||(LPAD(to_char
(EMP_SEQ.NEXTVAL),8,'0')), 'dragon@forhouse.com', '123456' ,'趙子龍', 'Active');
------------------------------
CREATE TABLE BK_FUNCTION(
BKF_NO NUMBER(10),
BKF_NAME VARCHAR2(40) NOT NULL, 
BKF_DSB VARCHAR2(100) NOT NULL, 
BKF_STATE VARCHAR2(10) NOT NULL,
BKF_UPDATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP ,
CONSTRAINT BKF_NO_PK PRIMARY KEY(BKF_NO));



CREATE SEQUENCE BKF_NO_SEQ
INCREMENT BY 1 
START WITH 100 
NOMAXVALUE
NOCYCLE
NOCACHE;

------insert先寫在這裡--------
INSERT INTO BK_FUNCTION(BKF_NO, BKF_NAME, BKF_DSB, BKF_STATE) 
VALUES(BKF_NO_SEQ.NEXTVAL, '管理員工', '管理後台帳號、管理後台帳號權限' ,'On');
INSERT INTO BK_FUNCTION(BKF_NO, BKF_NAME, BKF_DSB, BKF_STATE) 
VALUES(BKF_NO_SEQ.NEXTVAL, '審核權限', '審核房仲註冊、審核廠商註冊' ,'On');
INSERT INTO BK_FUNCTION(BKF_NO, BKF_NAME, BKF_DSB, BKF_STATE) 
VALUES(BKF_NO_SEQ.NEXTVAL, '維護房屋資料', '房屋資料更新檢視、房屋資料爬蟲開關' ,'Test');
INSERT INTO BK_FUNCTION(BKF_NO, BKF_NAME, BKF_DSB, BKF_STATE) 
VALUES(BKF_NO_SEQ.NEXTVAL, '管理檢舉', '審核檢舉房仲、審核檢舉廠商' ,'On');
INSERT INTO BK_FUNCTION(BKF_NO, BKF_NAME, BKF_DSB, BKF_STATE) 
VALUES(BKF_NO_SEQ.NEXTVAL, '管理News', '管理房市最新消息、管理系統公告、管理促銷資訊' ,'On');
INSERT INTO BK_FUNCTION(BKF_NO, BKF_NAME, BKF_DSB, BKF_STATE)
VALUES(BKF_NO_SEQ.NEXTVAL, '管理廣告', '審核廠商廣告申請刊登廣告撤銷廣告' ,'On');
INSERT INTO BK_FUNCTION(BKF_NO, BKF_NAME, BKF_DSB, BKF_STATE)
VALUES(BKF_NO_SEQ.NEXTVAL, '管理常見問題', '更新問題' ,'On');

------------------------------
CREATE TABLE EMPLOYEE_AUTH(
EMP_NO VARCHAR2(10) NOT NULL,
BKF_NO NUMBER(10) NOT NULL,
EMAU_DATE  TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
EMAU_EDITOR VARCHAR2(10),
CONSTRAINT EMP_NO_FK FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE(EMP_NO),
CONSTRAINT BKF_NO_FK FOREIGN KEY (BKF_NO) REFERENCES BK_FUNCTION
(BKF_NO),
CONSTRAINT EMPLOYEE_AUTH_PK PRIMARY KEY(EMP_NO,BKF_NO));
------insert先寫在這裡--------
INSERT INTO EMPLOYEE_AUTH(EMP_NO, BKF_NO,EMAU_EDITOR) 
VALUES('EM00000003', 100, 'EM00000001');
INSERT INTO EMPLOYEE_AUTH(EMP_NO, BKF_NO,EMAU_EDITOR) 
VALUES('EM00000003', 101, 'EM00000001');
INSERT INTO EMPLOYEE_AUTH(EMP_NO, BKF_NO,EMAU_EDITOR) 
VALUES('EM00000003', 102, 'EM00000001');

-----員工的世界-複製到這邊-請按下commit-------
commit;

-------------- 檢舉商品案件 (要先建 EMPLOYEE 表格) --------------
CREATE TABLE ReportProduct (
RP_NO          VARCHAR2(10) NOT NULL,
MEM_NO         VARCHAR2(10) NOT NULL,
PRD_NO         VARCHAR2(10) NOT NULL,
EMP_NO         VARCHAR2(10),
RP_REASON      VARCHAR2(200),
RP_RESULT      VARCHAR2(200),
RP_STATE       VARCHAR2(10),
RP_TIME        TIMESTAMP,
CONSTRAINT RP_PK PRIMARY KEY(RP_NO),
CONSTRAINT RP_MEM_FK FOREIGN KEY(MEM_NO) REFERENCES MEMBER(MEM_NO),
CONSTRAINT RP_PRDT_FK FOREIGN KEY(PRD_NO) REFERENCES PRODUCT(PRD_NO),
CONSTRAINT RP_EMP_FK FOREIGN KEY(EMP_NO) REFERENCES EMPLOYEE(EMP_NO) );

CREATE SEQUENCE RP_SEQ
INCREMENT BY 1 
START WITH 1 
NOCACHE;
--------------------------------
--檢舉商品案件尚未 INSERT 假資料
--------------------------------


-------- 檢舉房仲案件 (要先建 EMPLOYEE 表格) --------
CREATE TABLE ReportRealtor (
RR_NO         VARCHAR2(10) NOT NULL,
MEM_NO        VARCHAR2(10) NOT NULL,
RTR_NO        VARCHAR2(10) NOT NULL,
EMP_NO        VARCHAR2(10),
RR_REASON     VARCHAR2(200),
RR_RESULT     VARCHAR2(200),
RR_STATE      VARCHAR2(10),
RR_TIME       TIMESTAMP,
CONSTRAINT RR_PK PRIMARY KEY(RR_NO),
CONSTRAINT RR_MEM_FK FOREIGN KEY(MEM_NO) REFERENCES MEMBER(MEM_NO),
CONSTRAINT RR_RTR_FK FOREIGN KEY(RTR_NO) REFERENCES REALTOR(RTR_NO),
CONSTRAINT RR_EMP_FK FOREIGN KEY(EMP_NO) REFERENCES EMPLOYEE(EMP_NO) );

CREATE SEQUENCE RR_SEQ
INCREMENT BY 1
START WITH 1
NOCACHE;
--------------------------------
--檢舉房仲案件尚未 INSERT 假資料
--------------------------------
COMMIT;
-----------------------------------------------------------------------------yyy---------------------------------

-----員工的世界-複製到這邊-請按下commit-------
-----員工的世界-複製到這邊-請按下commit-------

-----商品的世界-要先拿大哥的表格--


CREATE TABLE PRODUCT_ORDER(
PDO_NO VARCHAR2(15) NOT NULL,
MEM_NO VARCHAR2(10) NOT NULL,
SLR_NO VARCHAR2(10) NOT NULL,
PDO_STAT VARCHAR2(20),
PDO_RESR_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
SLR_RATE NUMBER(2),
MEM_RATE NUMBER(2),
MEM_REVIEW VARCHAR2(100),
PDO_PARAMS CLOB,
CP_NO VARCHAR2(10),
CONSTRAINT PDO_NO_PK PRIMARY KEY(PDO_NO),
CONSTRAINT MEM_NO_FK FOREIGN KEY (MEM_NO) REFERENCES MEMBER(MEM_NO),
CONSTRAINT SLR_NO_FK FOREIGN KEY (SLR_NO) REFERENCES SELLER(SLR_NO));



CREATE SEQUENCE PDO_NO_SEQ
INCREMENT BY 1
START WITH 1
NOMAXVALUE
NOCYCLE
NOCACHE;

------insert先寫在這裡--------
INSERT INTO PRODUCT_ORDER(PDO_NO, MEM_NO, SLR_NO, PDO_STAT)
VALUES('OD'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(PDO_NO_SEQ.NEXTVAL),6,'0')), 'MB00000001', 'SL00000001' ,'order');
INSERT INTO PRODUCT_ORDER(PDO_NO, MEM_NO, SLR_NO, PDO_STAT)
VALUES('OD'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(PDO_NO_SEQ.NEXTVAL),6,'0')), 'MB00000001', 'SL00000001' ,'order');
INSERT INTO PRODUCT_ORDER(PDO_NO, MEM_NO, SLR_NO, PDO_STAT)
VALUES('OD'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(PDO_NO_SEQ.NEXTVAL),6,'0')), 'MB00000002', 'SL00000001' ,'order');
INSERT INTO PRODUCT_ORDER(PDO_NO, MEM_NO, SLR_NO, PDO_STAT)
VALUES('OD'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(PDO_NO_SEQ.NEXTVAL),6,'0')), 'MB00000002', 'SL00000002' ,'order');
INSERT INTO PRODUCT_ORDER(PDO_NO, MEM_NO, SLR_NO, PDO_STAT)
VALUES('OD'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(PDO_NO_SEQ.NEXTVAL),6,'0')), 'MB00000003', 'SL00000003' ,'order');
INSERT INTO PRODUCT_ORDER(PDO_NO, MEM_NO, SLR_NO, PDO_STAT)
VALUES('OD'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(PDO_NO_SEQ.NEXTVAL),6,'0')), 'MB00000002', 'SL00000003' ,'deliver');
INSERT INTO PRODUCT_ORDER(PDO_NO, MEM_NO, SLR_NO, PDO_STAT)
VALUES('OD'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(PDO_NO_SEQ.NEXTVAL),6,'0')), 'MB00000002', 'SL00000004' ,'cancel');
-------------------------------------------------------------


CREATE TABLE ORDER_DETAIL(
PDO_NO VARCHAR2(15) NOT NULL,
PRD_NO VARCHAR2(10) NOT NULL,
ODER_UNI_PRICE NUMBER(10),
ODER_QUANTITY NUMBER(10),
CONSTRAINT PDO_NO_FK FOREIGN KEY (PDO_NO) REFERENCES PRODUCT_ORDER(PDO_NO),
CONSTRAINT PRD_NO_FK FOREIGN KEY (PRD_NO) REFERENCES PRODUCT(PRD_NO),
CONSTRAINT ORDER_DETAIL_PK PRIMARY KEY(PDO_NO,PRD_NO)
);
------insert先寫在這裡--------
INSERT INTO ORDER_DETAIL(PDO_NO, PRD_NO, ODER_UNI_PRICE, ODER_QUANTITY) 
VALUES('OD171103-000001', 'PD00000020', 500000000 ,10);
INSERT INTO ORDER_DETAIL(PDO_NO, PRD_NO, ODER_UNI_PRICE, ODER_QUANTITY) 
VALUES('OD171103-000002', 'PD00000011', 500000000 ,10);
commit;



-------------子楷-----------------------------------

create sequence house_sequence
start with 1
increment by 1
minvalue 0
nomaxvalue;

create sequence houseimages_sequence
start with 1
increment by 1
minvalue 0
nomaxvalue;

create sequence advertisement_sequance
start with 1
increment by 1
minvalue 0
nomaxvalue;


CREATE TABLE HouseInfo(
House_No varchaR2(100) not null primary key,
RE_NO varchar2(10) not null,
HOUSE_Serial_number varchar2(100) not null,
Title varchar2(100) not null,
Location varchar2(100) not null,
Price varchar2(100) not null,
Total_Pings number(10,2) not null,
Main_Pings number(10,2),
Amenity_Pings number(10,2),
Accessory_Pings number(10,2),
Floor varchar2(100),
Age number(10,2),
Pattern varchar2(100),
Orientation VARCHAR2(100),
Building_Materials VARCHAR2(100),
Parking_Space varchar2(100),
Classification_Of_Land VARCHAR2(100),
Land_Pings number(10,2),
Data_Info CLOB,
Main_Img BLOB,
Lat number(10,5),
Lng number(10,5),
House_States varchar2(100),
Insert_Time TIMESTAMP,
final_update_time timestamp default current_timestamp,
constraint FK_HOUSEINFO_REALESTATE foreign key(RE_NO) REFERENCES RealEstate(RE_NO)

);
----------------------------------------------------------------------------------------------------------------------------
CREATE TABLE HOUSEIMAGES(
Img_No varchar2(100) not null primary key,
House_No varchar2(100) not null,
Img BLOB,
state varchar2(50) not null,
insert_time timestamp,
CONSTRAINT Fk_HOUSEIMG_HOUSEINFO FOREIGN KEY (House_No) References HOUSEINFO (HOUSE_NO)
);


CREATE TABLE Advertisement(
Ad_No VARCHAR2(100) primary key not null,
PRD_NO VARCHAR2(10) not null,
EMP_No VARCHAR2(10),
Ad_Type varchar2(100) not null,
AD_IMG BLOB,
Appling_Date Timestamp,
Audit_Date Timestamp,
Expiration_Date Timestamp,
CONSTRAINT Fk_Advertisment_Product FOREIGN KEY (Prd_No) References Product (Prd_No),
CONSTRAINT Fk_Advertisment_Employee FOREIGN KEY (EMP_No) References Employee (EMP_No) 
);
 
CREATE TABLE ARTICLE(
ARTICLE_NO VARCHAR2(100) PRIMARY KEY NOT NULL,
RTR_NO VARCHAR2(10) NOT NULL,
ARTICLE_BODY CLOB,
Post_Date TIMESTAMP NOT NULL,
UPDATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
ARTICLE_STATE VARCHAR2(30) NOT NULL,
CONSTRAINT FK_ARTICLE_REALTOR FOREIGN KEY (RTR_NO) REFERENCES REALTOR(RTR_NO)
);

CREATE TABLE FOLLOW_RTR(
RTR_NO VARCHAR2(10)NOT NULL ,
MEM_NO VARCHAR2(10)NOT NULL ,
STATE VARCHAR2(10),
FOLLOW_DATE TIMESTAMP,
CONSTRAINT PK_FOLLOW_RTR PRIMARY KEY(RTR_NO,MEM_NO)
);






CREATE TABLE PRDIMG (
IMG_NO VARCHAR2(10) NOT NULL,
PRD_NO VARCHAR2(10) NOT NULL,
IMG BLOB,
state varchar2(50) not null,
insert_time timestamp,
CONSTRAINT PRDIMG_PK PRIMARY KEY(IMG_NO),
CONSTRAINT PRDIMG_PD_FK FOREIGN KEY(PRD_NO) REFERENCES PRODUCT(PRD_NO) 
);

CREATE SEQUENCE PRDIMG_SEQ
INCREMENT BY 1 
START WITH 1 
NOCACHE;


-------------------------------------------------蓋-----------------------------
--新聞種類---------------------------------------------------------------------------
CREATE TABLE News_Type(
NType_No   VARCHAR2(10) NOT NULL,
News_Type  VARCHAR2(30) NOT NULL,
CONSTRAINT PK_News_Type PRIMARY KEY (NType_No)
);


--新聞----------------------------------------------------------------------------
CREATE TABLE News(
News_No      VARCHAR2(10)   NOT NULL,
NType_No     VARCHAR2(10)   NOT NULL,
News_Title   VARCHAR2(300)  NOT NULL,
News_Content CLOB,
News_Photo   BLOB,
News_State   VARCHAR2(30)   NOT NULL,
News_Date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
EMP_NO       VARCHAR2(10)   NOT NULL,
CONSTRAINT FK_News_NType_No FOREIGN KEY (NType_No) REFERENCES News_Type (NType_No),
CONSTRAINT FK_News_EMP_NO FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE (EMP_NO),
CONSTRAINT PK_News PRIMARY KEY (News_No)
);


--公告---------------------------------------------------------------------------
CREATE TABLE ANN(
ANN_No      NUMBER(10)    NOT NULL,
ANN_Title   VARCHAR2(300) NOT NULL,
ANN_Content CLOB          NOT NULL,
ANN_State   VARCHAR2(30)  NOT NULL,
ANN_Date    TIMESTAMP     DEFAULT CURRENT_TIMESTAMP,
EMP_NO      VARCHAR2(10)  NOT NULL,
CONSTRAINT FK_ANN_EMP_NO  FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE (EMP_NO),
CONSTRAINT PK_ANN PRIMARY KEY (ANN_No)
);


--問題種類------------------------------------------------------------------------
CREATE TABLE QA_Type(
QAType_No  VARCHAR2(10) NOT NULL,
QA_Type    VARCHAR2(30) NOT NULL,
CONSTRAINT PK_QA_Type PRIMARY KEY (QAType_No)
);


--常見問題-----------------------------------------------------------------------
CREATE TABLE QA(
QA_No 	   NUMBER(10)    NOT NULL,
QAType_No  VARCHAR2(10)  NOT NULL,
QA_Title   VARCHAR2(300) NOT NULL,
QA_Content CLOB          NOT NULL,
QA_Date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
EMP_NO     VARCHAR2(10)  NOT NULL,
CONSTRAINT FK_QA_QAType_No FOREIGN KEY (QAType_No) REFERENCES QA_Type(QAType_No),
CONSTRAINT FK_QA_EMP_NO FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE (EMP_NO),
CONSTRAINT PK_QA PRIMARY KEY (QA_No)
);


--促銷活動-----------------------------------------------------------------------
CREATE TABLE PROMO(
PROMO_No      VARCHAR2(10)   NOT NULL,
PROMO_From    DATE           NOT NULL,
PROMO_To      DATE           NOT NULL,
PROMO_Name    VARCHAR2(100)  NOT NULL,
PROMO_Content VARCHAR2(1500) NOT NULL,
PROMO_Photo   BLOB,
PROMO_State   VARCHAR2(30)   NOT NULL,
PROMO_Date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
EMP_NO        VARCHAR2(10)   NOT NULL,
CONSTRAINT FK_PROMO_EMP_NO FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE (EMP_NO),
CONSTRAINT PK_PROMO PRIMARY KEY (PROMO_No)
);


--優惠卷------------------------------------------------------------------------
CREATE TABLE Coupon(
CP_No 	    VARCHAR2(10)   NOT NULL,
CP_From     DATE           NOT NULL,
CP_To       DATE           NOT NULL,
CP_Content  VARCHAR2(1500) NOT NULL,
CP_Discount VARCHAR2(10)   NOT NULL,
PDO_NO      VARCHAR2(10),
CP_State    VARCHAR2(30)   NOT NULL,
CP_Date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
MEM_NO      VARCHAR2(10)   NOT NULL,
PROMO_No    VARCHAR2(10)   NOT NULL,
CONSTRAINT PK_Coupon PRIMARY KEY (CP_No)
);

--------------------------------------------------------------------------------
COMMIT;
--新聞種類-------------------------------------------------------------
INSERT INTO News_Type VALUES('HN001','房市新聞');
INSERT INTO News_Type VALUES('LK002','看屋百科');
INSERT INTO News_Type VALUES('GH003','安家百科');


--新聞-----------------------------------------------------------------
CREATE SEQUENCE seq_news
INCREMENT BY 1
START WITH 2000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'HN001', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '公告中', 'EM00000001');
INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_NO)
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'LK002', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '公告中', 'EM00000002');
INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'LK002', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租!!', '', '公告中', 'EM00000001');
INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'LK002', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租!!', '', '已撤銷', 'EM00000001');
INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'HN001', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租 ', '', '公告中', 'EM00000002');
INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'GH003', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租 ', '', '已撤銷', 'EM00000003');
INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'HN001', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租 ', '', '公告中', 'EM00000002');
INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'HN001', '新北美樂地收復失土樹林添公園', '~~~朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '已撤銷', 'EM00000002');
INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'GH003', '新北美樂地收復失土樹林添公園', '~~~朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '已撤銷', 'EM00000003');
INSERT INTO News (News_No, NType_No, News_Title, News_Content, News_Photo, News_State, EMP_No) 
VALUES('NS'||LPAD(TO_CHAR(seq_news.NEXTVAL), 8, '0'), 'GH003', '新北美樂地收復失土樹林添公園', '~~~朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '已撤銷', 'EM00000002');


--公告----------------------------------------------------------------------
CREATE SEQUENCE seq_ann
INCREMENT BY 1
START WITH 3000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000001');
INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000002');
INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000002');
INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000001');
INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000001');
INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000001');
INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000003');
INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000001');
INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000002');
INSERT INTO Ann (ANN_No, ANN_Title, ANN_Content, ANN_State, EMP_NO) 
VALUES(seq_ann.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000003');


--問題種類---------------------------------------------------------------------------
INSERT INTO QA_Type VALUES('LOG001', '註冊登入');
INSERT INTO QA_Type VALUES('EST002', '如何預約房仲');
INSERT INTO QA_Type VALUES('PRO003', '如何購買商品');
INSERT INTO QA_Type VALUES('COU004', '優惠卷使用');
INSERT INTO QA_Type VALUES('OTH005', '其他問題');


--常見問題-----------------------------------------------------------------------
CREATE SEQUENCE seq_qa
INCREMENT BY 1
START WITH 4000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'LOG001', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000003');
INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'EST002', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000001');
INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'LOG001', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000001');
INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'LOG001', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000003');
INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'EST002', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000002');
INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'COU004', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000001');
INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'LOG001', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000003');
INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'PRO003', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000003');
INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'OTH005', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000001');
INSERT INTO QA (QA_No, QAType_No, QA_Title, QA_Content, EMP_NO) 
VALUES(seq_qa.NEXTVAL, 'PRO003', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000002');


--促銷活動-----------------------------------------------------------------------
CREATE SEQUENCE seq_pro
INCREMENT BY 1
START WITH 5000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO PROMO (PROMO_No, PROMO_From, PROMO_To, PROMO_Name, PROMO_Content, PROMO_Photo, PROMO_State, EMP_NO) 
VALUES('PRO'||LPAD(TO_CHAR(seq_pro.NEXTVAL), 7, '0'), to_date('20171010', 'YYYY-MM-DD'), to_date('20171017', 'YYYY-MM-DD'), '萬聖節房屋', '有裝扮就送大南瓜有裝扮就送大南瓜', '', '已下架', 'EM00000002');
INSERT INTO PROMO (PROMO_No, PROMO_From, PROMO_To, PROMO_Name, PROMO_Content, PROMO_Photo, PROMO_State, EMP_NO)
VALUES('PRO'||LPAD(TO_CHAR(seq_pro.NEXTVAL), 7, '0'), to_date('20171018', 'YYYY-MM-DD'), to_date('20171025', 'YYYY-MM-DD'), '聖誕節房屋', '有老人就送麋鹿給你去送禮物', '', '已下架', 'EM00000002');
INSERT INTO PROMO (PROMO_No, PROMO_From, PROMO_To, PROMO_Name, PROMO_Content, PROMO_Photo, PROMO_State, EMP_NO)
VALUES('PRO'||LPAD(TO_CHAR(seq_pro.NEXTVAL), 7, '0'), to_date('20171026', 'YYYY-MM-DD'), to_date('20171102', 'YYYY-MM-DD'), '無修正房屋', '請私，放在已編輯畫面裡面了', '', '已上架', 'EM00000001');
INSERT INTO PROMO (PROMO_No, PROMO_From, PROMO_To, PROMO_Name, PROMO_Content, PROMO_Photo, PROMO_State, EMP_NO)
VALUES('PRO'||LPAD(TO_CHAR(seq_pro.NEXTVAL), 7, '0'), to_date('20171103', 'YYYY-MM-DD'), to_date('20171110', 'YYYY-MM-DD'), '大放送房屋', '有送有送有送有送有送有送有送有送', '', '未上架', 'EM00000003');
INSERT INTO PROMO (PROMO_No, PROMO_From, PROMO_To, PROMO_Name, PROMO_Content, PROMO_Photo, PROMO_State, EMP_NO)
VALUES('PRO'||LPAD(TO_CHAR(seq_pro.NEXTVAL), 7, '0'), to_date('20171111', 'YYYY-MM-DD'), to_date('20171118', 'YYYY-MM-DD'), '年齡未滿房屋', '1819202122來就送折扣', '', '未上架', 'EM00000001');


--優惠卷(尚未建立)---------------------------------------------------------------------------
CREATE SEQUENCE seq_cou
INCREMENT BY 1
START WITH 6000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO Coupon (CP_No, CP_From, CP_To, CP_Content, CP_Discount, PDO_NO, CP_State, MEM_NO, PROMO_No)
VALUES('COU'||LPAD(TO_CHAR(seq_cou.NEXTVAL), 7, '0'), to_date('20171010', 'YYYY-MM-DD'), to_date('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000001', '已使用', 'EM00000001', 'PRO0005000');
INSERT INTO Coupon (CP_No, CP_From, CP_To, CP_Content, CP_Discount, PDO_NO, CP_State, MEM_NO, PROMO_No)
VALUES('COU'||LPAD(TO_CHAR(seq_cou.NEXTVAL), 7, '0'), to_date('20171010', 'YYYY-MM-DD'), to_date('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000002', '已使用', 'EM00000004', 'PRO0005001');
INSERT INTO Coupon (CP_No, CP_From, CP_To, CP_Content, CP_Discount, PDO_NO, CP_State, MEM_NO, PROMO_No)
VALUES('COU'||LPAD(TO_CHAR(seq_cou.NEXTVAL), 7, '0'), to_date('20171010', 'YYYY-MM-DD'), to_date('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000002', '已使用', 'EM00000001', 'PRO0005002');
INSERT INTO Coupon (CP_No, CP_From, CP_To, CP_Content, CP_Discount, PDO_NO, CP_State, MEM_NO, PROMO_No)
VALUES('COU'||LPAD(TO_CHAR(seq_cou.NEXTVAL), 7, '0'), to_date('20171010', 'YYYY-MM-DD'), to_date('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000003', '未使用', 'EM00000003', 'PRO0005003');
INSERT INTO Coupon (CP_No, CP_From, CP_To, CP_Content, CP_Discount, PDO_NO, CP_State, MEM_NO, PROMO_No)
VALUES('COU'||LPAD(TO_CHAR(seq_cou.NEXTVAL), 7, '0'), to_date('20171010', 'YYYY-MM-DD'), to_date('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000002', '未使用', 'EM00000002', 'PRO0005002');
INSERT INTO Coupon (CP_No, CP_From, CP_To, CP_Content, CP_Discount, PDO_NO, CP_State, MEM_NO, PROMO_No)
VALUES('COU'||LPAD(TO_CHAR(seq_cou.NEXTVAL), 7, '0'), to_date('20171010', 'YYYY-MM-DD'), to_date('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000002', '未使用', 'EM00000001', 'PRO0005001');


---------------------------------------------------------------------------
COMMIT;


------------------------------------------------------逵----------------------------------

-----預約看屋紀錄-----
CREATE TABLE RESREC (
 RESR_NO             VARCHAR2(15) PRIMARY KEY NOT NULL,
 MEM_NO              VARCHAR2(10) NOT NULL,
 HOUSE_NO            VARCHAR2(100) NOT NULL,
 RTR_NO              VARCHAR2(10) NOT NULL,
 RESR_ORD            TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
 RESR_STATES         VARCHAR2(15) NOT NULL,
 RESR_DATE           DATE,
 RESR_PERIOD         VARCHAR2(12),
 HSE_EVAL            CLOB,
 HSE_REV             CLOB,
 MEM_RATE            NUMBER(2),
 MEM_REV             VARCHAR2(300),
 RTR_RATE            NUMBER(2),
 CONSTRAINT FK_RRHNO FOREIGN KEY (HOUSE_NO) REFERENCES HOUSEINFO(HOUSE_NO),
 CONSTRAINT FK_RRRNO FOREIGN KEY (RTR_NO) REFERENCES REALTOR(RTR_NO),
 CONSTRAINT FK_RRMNO FOREIGN KEY (MEM_NO) REFERENCES MEMBER(MEM_NO)
 );


CREATE SEQUENCE RESR_SEQ;

INSERT INTO RESREC (RESR_NO, MEM_NO, HOUSE_NO, RTR_NO, RESR_STATES, RESR_DATE, RESR_PERIOD)VALUES ('RR'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(RESR_SEQ.NEXTVAL),5,'0')),'MB00000003','HSE00000001','RT00000004','ESTABLISH',TO_DATE('2017/10/28','YYYY/MM/DD'),'10:00-12:00');
INSERT INTO RESREC (RESR_NO, MEM_NO, HOUSE_NO, RTR_NO, RESR_STATES, RESR_DATE, RESR_PERIOD)VALUES ('RR'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(RESR_SEQ.NEXTVAL),5,'0')),'MB00000002','HSE00000002','RT00000009','ESTABLISH',TO_DATE('2017/10/30','YYYY/MM/DD'),'12:00-14:00');
INSERT INTO RESREC (RESR_NO, MEM_NO, HOUSE_NO, RTR_NO, RESR_STATES, RESR_DATE, RESR_PERIOD)VALUES ('RR'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(RESR_SEQ.NEXTVAL),5,'0')),'MB00000001','HSE00000003','RT00000010','ESTABLISH',TO_DATE('2017/10/29','YYYY/MM/DD'),'14:00-16:00');
INSERT INTO RESREC (RESR_NO, MEM_NO, HOUSE_NO, RTR_NO, RESR_STATES, RESR_DATE, RESR_PERIOD)VALUES ('RR'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(to_char(RESR_SEQ.NEXTVAL),5,'0')),'MB00000004','HSE00000002','RT00000002','ESTABLISH',TO_DATE('2017/11/01','YYYY/MM/DD'),'18:00-20:00');
--UPDATE RESREC set RESR_STATES='CONFIRM',HSE_EVAL='{ "地段":"5", "屋齡":"3", "價格":"2" }',HSE_REV='價格有點小貴，屋齡尚可接受，結論:我覺得可以',MEM_RATE='4',MEM_REV='THIS REALTOR IS GOOD.',RTR_RATE='5' where RESR_NO = 'RR171030-00001';
--UPDATE RESREC set RESR_STATES='CONFIRM',HSE_EVAL='{ "地段":"3", "屋齡":"2", "價格":"1" }',HSE_REV='超級雷，這什麼房子阿，沒想到房子也有照騙阿，超級失望又浪費時間',MEM_RATE='4',MEM_REV='雖然房子雷，但這房仲不錯，找房可以找他',RTR_RATE='5' where RESR_NO = 'RR171030-00004';
--UPDATE RESREC set RESR_STATES='CANCEL' where RESR_NO = 'RR171030-00003';
COMMIT;

-----收藏房屋-----
CREATE TABLE HSECOLL (
 MEM_NO VARCHAR2(10) NOT NULL,
 HOUSE_NO VARCHAR2(100) NOT NULL, 
 CONSTRAINT PK_HSECOLL PRIMARY KEY (HOUSE_NO,MEM_NO),
 CONSTRAINT FK_HSEHNO FOREIGN KEY (HOUSE_NO) REFERENCES HOUSEINFO(HOUSE_NO),
 CONSTRAINT FK_HSEMNO FOREIGN KEY (MEM_NO) REFERENCES MEMBER(MEM_NO)
);

INSERT INTO HSECOLL VALUES('MB00000003','HSE00000001');
INSERT INTO HSECOLL VALUES('MB00000004','HSE00000001');
INSERT INTO HSECOLL VALUES('MB00000002','HSE00000001');
INSERT INTO HSECOLL VALUES('MB00000002','HSE00000002');
INSERT INTO HSECOLL VALUES('MB00000002','HSE00000003');
INSERT INTO HSECOLL VALUES('MB00000001','HSE00000002');
INSERT INTO HSECOLL VALUES('MB00000001','HSE00000003');

COMMIT;


-----休息時間-----
CREATE TABLE BREAKTIME(
 RTR_NO VARCHAR2(10) NOT NULL,
 BRK_DATE DATE NOT NULL,
 BRK_PERIOD VARCHAR2(12) NOT NULL,
 CONSTRAINT FK_BTRNO FOREIGN KEY (RTR_NO) REFERENCES REALTOR (RTR_NO),
 CONSTRAINT PK_BT PRIMARY KEY (RTR_NO,BRK_DATE,BRK_PERIOD)
);

INSERT INTO BREAKTIME VALUES('RT00000005',TO_DATE('2017-11-04','YYYY/MM/DD'),'10:00-13:00');
INSERT INTO BREAKTIME VALUES('RT00000005',TO_DATE('2017-11-04','YYYY/MM/DD'),'14:00-18:00');
INSERT INTO BREAKTIME VALUES('RT00000007',TO_DATE('2017-11-02','YYYY/MM/DD'),'10:00-13:00');
INSERT INTO BREAKTIME VALUES('RT00000012',TO_DATE('2017-11-02','YYYY/MM/DD'),'10:00-13:00');
INSERT INTO BREAKTIME VALUES('RT00000010',TO_DATE('2017-11-03','YYYY/MM/DD'),'12:00-15:00');
INSERT INTO BREAKTIME VALUES('RT00000010',TO_DATE('2017-11-05','YYYY/MM/DD'),'12:00-15:00');
COMMIT;


-----房仲即時訊息-----
CREATE TABLE MRMSG(
 MEM_NO VARCHAR2(10) NOT NULL,
 RTR_NO VARCHAR2(10) NOT NULL,
 MR_MSG CLOB,
 MR_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
 CONSTRAINT FK_MRMNO FOREIGN KEY (MEM_NO) REFERENCES MEMBER (MEM_NO),
 CONSTRAINT FK_MRRNO FOREIGN KEY (RTR_NO) REFERENCES REALTOR (RTR_NO),
 CONSTRAINT PK_MRMSG PRIMARY KEY (MEM_NO,RTR_NO)
);

INSERT INTO MRMSG(MEM_NO,RTR_NO,MR_MSG) VALUES ('MB00000004','RT00000010','比爾蓋茲:這間房子好像還不錯，請問房仲你可以帶我去看一下嗎?
陳金鋒:當然啦，客官這間房子很熱門喔，這幾天看這間的人很多
比爾蓋茲:是喔!!!那你什麼時候有空呢，我想越快越好
陳金鋒:好的，我看一下，不然我給你看一下我的行事曆看你哪個時間比較適合?
比爾蓋茲: 恩... 那就"11/05 14:00"好了 陳金鋒:OK , 那我們就那天見囉 ^___^');
INSERT INTO MRMSG(MEM_NO,RTR_NO,MR_MSG) VALUES ('MB00000001','RT00000003','賈伯斯:HI 安安，房仲你好啊!! 林志玲:不好意思，我先去洗澡喔!! 林志玲已離線');
INSERT INTO MRMSG(MEM_NO,RTR_NO,MR_MSG) VALUES ('MB00000001','RT00000012','楊美麗:先生您好，我是xx房仲，我看到你正在找房，我這邊正好有不錯的物件，你要不要參考一下啊!! 賈伯斯:不好意思，我先去洗澡喔!! 賈伯斯已離線');
commit;


-----廠商即時訊息-----
CREATE TABLE MSMSG(
 MEM_NO VARCHAR2(10) NOT NULL,
 SLR_NO VARCHAR2(10) NOT NULL,
 MS_MSG CLOB,
 MS_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
 CONSTRAINT FK_MSMNO FOREIGN KEY (MEM_NO) REFERENCES MEMBER (MEM_NO),
 CONSTRAINT FK_MSSNO FOREIGN KEY (SLR_NO) REFERENCES SELLER (SLR_NO),
 CONSTRAINT PK_MSMSG PRIMARY KEY (MEM_NO,SLR_NO)
);

INSERT INTO MSMSG(MEM_NO,SLR_NO,MS_MSG) VALUES ('MB00000002','SL00000002','喬丹:ㄟ 明天下午來打籃球阿! 歐德傢俱:好啊，球你帶場你佔，不來算輸 喬丹:槓...又遇到鄉民...');
INSERT INTO MSMSG(MEM_NO,SLR_NO,MS_MSG) VALUES ('MB00000003','SL00000004','彼得吳:你們的家具品質好，而且出貨速度超快的，我才剛下單喝杯茶你們就送來了呢，真是迅速 詩肯柚木:謝謝您的鼓勵，我們最近採用了最新的JAVA技術，讓我們即時掌握需求');
INSERT INTO MSMSG(MEM_NO,SLR_NO,MS_MSG) VALUES ('MB00000004','SL00000004','比爾蓋茲:你好啊，想請問一下為什麼我訂得傢俱還沒送來呢?
詩肯柚木:先生對不起阿，您訂的家具太高級了，我們不敢有任何損傷，因此採用最安全的方式搬運家具，大概在3個月即可看到我們的工人搬到那了，在這期間請敬請等候');
UPDATE msmsg set ms_msg='喬丹:ㄟ 明天下午來打籃球阿! 歐德傢俱:好啊，球你帶場你佔，不來算輸 喬丹:槓...又遇到鄉民...崩潰',ms_time=TO_TIMESTAMP('2017-11-02 10:12:30','YYYY/MM/DD hh:mi:ss') where mem_no ='MB00000002' and slr_no = 'SL00000002';
commit;
